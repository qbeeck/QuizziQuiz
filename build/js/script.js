"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var e=document.querySelector(".game"),t=document.querySelector(".loader"),n=Array.from(document.getElementsByClassName("choice-text")),c=document.querySelector(".game__question"),a=document.querySelector(".question-counter"),i=document.querySelector(".score-counter"),l=document.querySelector(".progress-bar-full"),u=[],s=[],m={},d=0,g=0,p=!1;"/game.html"==window.location.pathname&&axios.get("https://opentdb.com/api.php?amount=10&type=multiple").then(function(e){u=e.data.results.map(function(e){var n={question:v(e.question),answer:Math.floor(4*Math.random())+1},t=r(e.incorrect_answers);return t.splice(n.answer-1,0,e.correct_answer),t.forEach(function(e,t){n["choice"+(t+1)]=v(e)}),n}),f()}).catch(function(e){console.log(e)});var f=function(){d=g=0,s=r(u),h(),t.classList.add("hidden"),e.classList.remove("hidden")},h=function(){if(0===s.length||10<=a)return localStorage.setItem("mostScore",g),console.log("yep"),window.location.assign("/end.html");d++,a.innerText="".concat(d," / 10"),l.style.width="".concat(d/10*100,"%");var e=Math.floor(Math.random()*s.length);m=s[e],c.innerText=m.question,n.forEach(function(e){var t=e.dataset.number;e.innerHTML=m["choice"+t]}),s.splice(e,1),p=!0};n.forEach(function(e){e.addEventListener("click",function(e){var t,n;p&&(p=!1,t=e.target,"correct"==(n=t.dataset.number==m.answer?"correct":"incorrect")&&S(10),t.parentElement.classList.add(n),setTimeout(function(){t.parentElement.classList.remove(n),h()},500))})});var y,S=function(e){g+=e,i.innerText=g},v=function(e){return e.replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&rsquo;/g,"'").replace(/&amp;/g,"&").replace(/&ograve;/g,"ò").replace(/&Ograve;/g,"Ò").replace(/&Uuml;/g,"Ü").replace(/&uuml;/g,"ü").replace(/&eacute;/g,"é").replace(/&Eacute;/g,"É")},w=document.querySelector(".input-username"),b=document.getElementById("save-button"),q=document.querySelector(".final-score"),E=localStorage.getItem("mostScore");"/end.html"==window.location.pathname&&(y=JSON.parse(localStorage.getItem("highScores"))||[],q.innerText=E,w.addEventListener("keyup",function(){b.disabled=!w.value}),b.addEventListener("click",function(e){e.preventDefault();e={name:w.value,score:E};return y.push(e),y.sort(function(e,t){return t.score-e.score}),y.splice(5),localStorage.setItem("highScores",JSON.stringify(y)),console.log(y),window.location.assign("/index.html")}));var I=document.querySelector(".list"),q=JSON.parse(localStorage.getItem("highScores"));console.log(q),"/highlight.html"==window.location.pathname&&(I.innerHTML=q.map(function(e){return console.log("heelp"),"<li>".concat(e.name," - ").concat(e.score,"p</li>")}).join(""));